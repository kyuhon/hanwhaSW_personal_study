12.22 8일째 개발중

ai 사용
프론트 시작
오픈 ai api 팀원들도 사용할수 있는거??

내일 정기멘토링 보여줄게 없다

getCurrentEmpId() 

eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyZW50YWwwMDciLCJhdXRoIjpbIkFTU0VUX1JFQUQiLCJDQU1QQUlHTl9SRUFEIiwiQ09OVFJBQ1RfV1JJVEUiLCJDVVNUT01FUl9BTkFMWVNJU19SRUFEIiwiQ1VTVE9NRVJfREVMRVRFIiwiREFTSEJPQVJEX1JFQUQiLCJPVkVSRFVFX1BST0NFU1MiLCJRVU9URV9XUklURSJdLCJleHAiOjE3NjYzNjg5Mzh9.Y_D75WgbdR80KuyeA8NFSunSg8FKcNDZsKOemjU5AhENDOwvssprnobKzhVjcvjwywC2bPwPjhseIbzljYYdlA

백
번호생성기 수정확인하기	??
계약관리 조회 결제대기중과 결제거절까지 표기 check
SecurityUtil 삭제 -> serviceImpl 수정 check
대표 계약 생성시 결제내역까지 생성 후 계약진행에 대한 상태변경 처리	check

프론트
element plus 페이지네이션 적용하기


계약 생성 시 is_deleted=N인 고객만 생성가능 Y면 예외처리


포스트맨






강사님말씀
트레이드오프 코드 단위가 아닌 비즈니스, 제칼카스텔 , md파일 - 수동레그, 세컨드 브레인, 인박셀? 인박스?



INSERT 실패 시 코드 재생성 & 재시도 (가장 많이 씀)
@Transactional
public void createContract(ContractCreateDTO dto) {

    int retry = 0;
    final int MAX_RETRY = 3;

    while (true) {
        try {
            String code = codeGenerator.generate(CodeType.CONTRACT);
            ContractCommandEntity contract = ContractCommandEntity.create(dto, code);

            contractRepository.save(contract);
            return;

        } catch (DataIntegrityViolationException e) {
            // contract_code UNIQUE 충돌
            if (++retry >= MAX_RETRY) {
                throw new IllegalStateException("계약 코드 생성에 실패했습니다. 다시 시도해주세요.");
            }
        }
    }
}



내일 해야할 일

팀원 이야기 듣고 취합(1순위)
기본적으로 프론트 로직 구현하면서 백 api호출이 정상적으로 진행되는지 테스트


계약 목록페이지
	계약 상태(결제대기, 결제거절)추가
		필터에도 상태추가
		고객리스트 페이지에서의 사용된 필터 방식
계약 생성페이지
	포스트 요청에 따라 request가 상위컴포넌트에서 제대로 전달되기 위한 함수로직이 맞는지 확인
계약 상세페이지
	하나의 뷰파일로 디자인했는데 계약 요약, 계약제품, 결제내역에 따라 페이지 분리
결제관리(대기)
	대기에 따른 페이지 제작
		페이지 제작 후에 해당 get method호출 테스트
			사용된 get method에서 approval_view의 내역이 옳게 조회되는지 테스트
	승인, 반려 시에 인증,인가 백엔드 리팩토링
결제관리(진행)
	진행에 따른 페이지제작
		페이지 제작 후에 해당 get method호출 테스트
결제관리(완료)
	진행에 따른 페이지제작
		페이지 제작 후에 해당 get method호출 테스트

etc
	페이지네이션 삭제하고 element plus 라이브러리로 수정
	기본적인 디자인 고객목록 페이지에 있는 디자인과 css따라가기
	사용하는 api 파일 따로 빼서 사용하는 vue에서 import해서 사용하기


수요일 오전까지 완성하기
